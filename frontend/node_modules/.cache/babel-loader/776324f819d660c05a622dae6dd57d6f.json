{"ast":null,"code":"import _defineProperty from \"C:/Users/dell/Desktop/projektlogin/vue-3-authentication-jwt/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { ARButton } from '../three/examples/jsm/webxr/ARButton.js';\nimport { playerTurn } from './ticTacToe.js';\nimport { playAudio } from '../audio/sound.js'; // import * as THREE from \"../three/build/three.js\";\n\nimport * as THREE from 'three';\nconst tempMatrix = new THREE.Matrix4();\nlet camera;\nlet scene;\nlet renderer;\nlet board;\nlet controller;\nlet raycaster;\nlet container;\n\nclass ticTacToeBoard {\n  constructor() {\n    _defineProperty(this, \"boxes\", []);\n\n    const BOX_SIZE = 0.05;\n\n    for (let i = 0; i < 9; ++i) {\n      const texture = new THREE.TextureLoader().load('white.png'); // Loading a basic texture png\n\n      const geometry = new THREE.BoxBufferGeometry(BOX_SIZE, BOX_SIZE, BOX_SIZE * 0.25);\n      const material = new THREE.MeshBasicMaterial({\n        map: texture\n      });\n      let box = new THREE.Mesh(geometry, material);\n      this.boxes.push(box);\n    }\n\n    this.setBoxesPosition();\n  }\n\n  addToScene() {\n    for (let i = 0; i < 9; ++i) {\n      scene.add(this.boxes[i]);\n    }\n  }\n\n  setBoxesPosition() {\n    const POSITION = 0.08;\n    this.boxes[0].position.set(POSITION, POSITION, -0.5);\n    this.boxes[1].position.set(0, POSITION, -0.5);\n    this.boxes[2].position.set(-POSITION, POSITION, -0.5);\n    this.boxes[3].position.set(POSITION, 0, -0.5);\n    this.boxes[4].position.set(0, 0, -0.5);\n    this.boxes[5].position.set(-POSITION, 0, -0.5);\n    this.boxes[6].position.set(POSITION, -POSITION, -0.5);\n    this.boxes[7].position.set(0, -POSITION, -0.5);\n    this.boxes[8].position.set(-POSITION, -POSITION, -0.5);\n  }\n\n}\n\nfunction createMaterial(texture) {\n  return [new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('white.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('white.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('white.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('white.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load(texture + '.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load(texture + '.png')\n  })];\n}\n\nfunction updateTextureX(boxNumber) {\n  board.boxes[boxNumber].material = createMaterial('x');\n}\n\nfunction updateTextureXWin(boxNumber) {\n  board.boxes[boxNumber].material = createMaterial('xWin');\n}\n\nfunction updateTextureO(boxNumber) {\n  board.boxes[boxNumber].material = createMaterial('o');\n}\n\nfunction updateTextureOWin(boxNumber) {\n  board.boxes[boxNumber].material = createMaterial('oWin');\n}\n\nfunction init() {\n  container = document.createElement('div');\n  document.body.appendChild(container);\n  scene = new THREE.Scene();\n  camera = new THREE.PerspectiveCamera(100, window.innerWidth / window.innerHeight, 0.01, 20);\n  raycaster = new THREE.Raycaster();\n  renderer = new THREE.WebGLRenderer({\n    antialias: true,\n    alpha: true\n  });\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.outputEncoding = THREE.sRGBEncoding;\n  renderer.shadowMap.enabled = true;\n  renderer.xr.enabled = true;\n  container.appendChild(renderer.domElement);\n  document.body.appendChild(ARButton.createButton(renderer, {}));\n  const light = new THREE.HemisphereLight(0xffffff, 0xbbbbff, 1);\n  light.position.set(0.5, 1, 0.25);\n  scene.add(light);\n  controller = renderer.xr.getController(0);\n  controller.addEventListener('select', onSelect);\n  scene.add(controller);\n  board = new ticTacToeBoard();\n  board.addToScene();\n  const geometry = new THREE.BufferGeometry().setFromPoints([new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 0, -1)]);\n  const line = new THREE.Line(geometry);\n  line.name = 'line';\n  line.scale.z = 5;\n  controller.add(line.clone());\n  window.addEventListener('resize', () => {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n  });\n}\n\nfunction onSelect() {\n  tempMatrix.identity().extractRotation(controller.matrixWorld);\n  raycaster.ray.origin.setFromMatrixPosition(controller.matrixWorld);\n  raycaster.ray.direction.set(0, 0, -1).applyMatrix4(tempMatrix);\n  const intersections = raycaster.intersectObjects(scene.children);\n\n  for (let i = 0; i < board.boxes.length; i++) {\n    if (intersections.length > 0 && intersections[0].object === board.boxes[i]) {\n      playerTurn(i);\n      playAudio(\"./audio/click.wav\");\n    }\n  }\n}\n\nfunction animate() {\n  renderer.setAnimationLoop(render);\n}\n\nfunction render() {\n  renderer.render(scene, camera);\n}\n\nfunction start() {\n  init();\n  animate();\n} // start();\n\n\nexport { updateTextureX, updateTextureXWin, updateTextureO, updateTextureOWin, start };","map":{"version":3,"sources":["C:/Users/dell/Desktop/projektlogin/vue-3-authentication-jwt/src/games/ticTacToe/drawTicTacToe.js"],"names":["ARButton","playerTurn","playAudio","THREE","tempMatrix","Matrix4","camera","scene","renderer","board","controller","raycaster","container","ticTacToeBoard","constructor","BOX_SIZE","i","texture","TextureLoader","load","geometry","BoxBufferGeometry","material","MeshBasicMaterial","map","box","Mesh","boxes","push","setBoxesPosition","addToScene","add","POSITION","position","set","createMaterial","updateTextureX","boxNumber","updateTextureXWin","updateTextureO","updateTextureOWin","init","document","createElement","body","appendChild","Scene","PerspectiveCamera","window","innerWidth","innerHeight","Raycaster","WebGLRenderer","antialias","alpha","setPixelRatio","devicePixelRatio","setSize","outputEncoding","sRGBEncoding","shadowMap","enabled","xr","domElement","createButton","light","HemisphereLight","getController","addEventListener","onSelect","BufferGeometry","setFromPoints","Vector3","line","Line","name","scale","z","clone","aspect","updateProjectionMatrix","identity","extractRotation","matrixWorld","ray","origin","setFromMatrixPosition","direction","applyMatrix4","intersections","intersectObjects","children","length","object","animate","setAnimationLoop","render","start"],"mappings":"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","sourcesContent":["import {ARButton} from '../three/examples/jsm/webxr/ARButton.js';\r\nimport {playerTurn} from './ticTacToe.js'\r\nimport {playAudio} from '../audio/sound.js'\r\n// import * as THREE from \"../three/build/three.js\";\r\nimport * as THREE from 'three';\r\n\r\nconst tempMatrix = new THREE.Matrix4();\r\n\r\nlet camera;\r\nlet scene;\r\nlet renderer;\r\nlet board;\r\nlet controller;\r\nlet raycaster;\r\nlet container;\r\n\r\nclass ticTacToeBoard {\r\n    boxes = [];\r\n\r\n    constructor() {\r\n        const BOX_SIZE = 0.05;\r\n\r\n        for(let i = 0 ; i < 9 ; ++i) {\r\n\r\n            const texture = new THREE.TextureLoader().load('white.png' ); // Loading a basic texture png\r\n            const geometry = new THREE.BoxBufferGeometry(BOX_SIZE, BOX_SIZE, BOX_SIZE * 0.25);\r\n            const material = new THREE.MeshBasicMaterial({\r\n                map: texture\r\n            });\r\n            let box = new THREE.Mesh(geometry, material);\r\n            this.boxes.push(box);\r\n        }\r\n        this.setBoxesPosition();\r\n    }\r\n\r\n    addToScene() {\r\n        for(let i = 0 ; i < 9 ; ++i){\r\n            scene.add(this.boxes[i]);\r\n        }\r\n    }\r\n\r\n    setBoxesPosition() {\r\n        const POSITION = 0.08;\r\n        this.boxes[0].position.set(POSITION, POSITION, -0.5);\r\n        this.boxes[1].position.set(0, POSITION, -0.5);\r\n        this.boxes[2].position.set(-POSITION, POSITION, -0.5);\r\n        this.boxes[3].position.set(POSITION, 0, -0.5);\r\n        this.boxes[4].position.set(0, 0, -0.5);\r\n        this.boxes[5].position.set(-POSITION, 0, -0.5);\r\n        this.boxes[6].position.set(POSITION, -POSITION, -0.5);\r\n        this.boxes[7].position.set(0, -POSITION, -0.5);\r\n        this.boxes[8].position.set(-POSITION, -POSITION, -0.5);\r\n    }\r\n}\r\n\r\nfunction createMaterial(texture) {\r\n    return [\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('white.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('white.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('white.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('white.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load(texture + '.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load(texture + '.png')})\r\n    ];\r\n}\r\n\r\nfunction updateTextureX(boxNumber){\r\n    board.boxes[boxNumber].material = createMaterial('x');\r\n}\r\n\r\nfunction updateTextureXWin(boxNumber){\r\n    board.boxes[boxNumber].material = createMaterial('xWin');\r\n}\r\n\r\nfunction updateTextureO(boxNumber){\r\n    board.boxes[boxNumber].material = createMaterial('o');\r\n}\r\n\r\nfunction updateTextureOWin(boxNumber){\r\n    board.boxes[boxNumber].material = createMaterial('oWin');\r\n}\r\n\r\nfunction init() {\r\n    container = document.createElement('div');\r\n    document.body.appendChild(container);\r\n    scene = new THREE.Scene();\r\n    camera = new THREE.PerspectiveCamera(100, window.innerWidth / window.innerHeight, 0.01, 20);\r\n\r\n    raycaster = new THREE.Raycaster();\r\n\r\n    renderer = new THREE.WebGLRenderer({antialias: true, alpha: true});\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.outputEncoding = THREE.sRGBEncoding;\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.xr.enabled = true;\r\n\r\n    container.appendChild(renderer.domElement);\r\n    document.body.appendChild(ARButton.createButton(renderer, {}));\r\n\r\n    const light = new THREE.HemisphereLight(0xffffff, 0xbbbbff, 1);\r\n    light.position.set(0.5, 1, 0.25);\r\n    scene.add(light);\r\n\r\n    controller = renderer.xr.getController(0);\r\n    controller.addEventListener('select', onSelect);\r\n    scene.add(controller);\r\n\r\n    board = new ticTacToeBoard();\r\n    board.addToScene();\r\n\r\n    const geometry = new THREE.BufferGeometry().setFromPoints(\r\n        [new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 0, -1)]);\r\n\r\n    const line = new THREE.Line(geometry);\r\n    line.name = 'line';\r\n    line.scale.z = 5;\r\n\r\n    controller.add(line.clone());\r\n\r\n    window.addEventListener('resize', ()=> {\r\n        camera.aspect = window.innerWidth / window.innerHeight;\r\n        camera.updateProjectionMatrix();\r\n        renderer.setSize(window.innerWidth, window.innerHeight);\r\n    });\r\n}\r\n\r\nfunction onSelect() {\r\n    tempMatrix.identity().extractRotation(controller.matrixWorld);\r\n    raycaster.ray.origin.setFromMatrixPosition(controller.matrixWorld);\r\n    raycaster.ray.direction.set(0, 0, -1).applyMatrix4(tempMatrix);\r\n\r\n    const intersections = raycaster.intersectObjects(scene.children);\r\n\r\n    for(let i = 0; i < board.boxes.length; i++) {\r\n        if (intersections.length > 0 && intersections[0].object === board.boxes[i]) {\r\n            playerTurn(i);\r\n            playAudio(\"./audio/click.wav\");\r\n        }\r\n    }\r\n}\r\n\r\nfunction animate() {\r\n    renderer.setAnimationLoop(render);\r\n}\r\n\r\nfunction render() {\r\n    renderer.render(scene, camera);\r\n}\r\n\r\nfunction start() {\r\n    init();\r\n    animate();\r\n}\r\n\r\n// start();\r\n\r\nexport {\r\n    updateTextureX,\r\n    updateTextureXWin,\r\n    updateTextureO,\r\n    updateTextureOWin,\r\n    start\r\n};"]},"metadata":{},"sourceType":"module"}