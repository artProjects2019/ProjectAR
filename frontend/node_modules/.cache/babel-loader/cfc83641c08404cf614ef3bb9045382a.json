{"ast":null,"code":"import _defineProperty from \"C:/Users/dell/Desktop/projektlogin/vue-3-authentication-jwt/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { ARButton } from '../three/examples/jsm/webxr/ARButton.js';\nimport { playerTurn } from './ticTacToe.js';\nimport { playAudio } from '../audio/sound.js'; // import * as THREE from \"../three/build/three.js\";\n\nimport * as THREE from 'three'; // const THREE = require('../three/build/three.js')\n\nconst tempMatrix = new THREE.Matrix4();\nlet camera;\nlet scene;\nlet renderer;\nlet board;\nlet controller;\nlet raycaster;\nlet container;\n\nclass ticTacToeBoard {\n  constructor() {\n    _defineProperty(this, \"boxes\", []);\n\n    const BOX_SIZE = 0.05;\n\n    for (let i = 0; i < 9; ++i) {\n      // instantiate a loader\n      const loader = new THREE.TextureLoader(); // load a resource\n\n      loader.load( // resource URL\n      './textures/white.png', // onLoad callback\n      function (texture) {\n        // in this example we create the material when the texture is loaded\n        const material = new THREE.MeshBasicMaterial({\n          map: texture\n        });\n      }, // onProgress callback currently not supported\n      undefined, // onError callback\n      function (err) {\n        console.error('An error happened.');\n      });\n      const texture = new THREE.TextureLoader().load('./textures/white.png'); // Loading a basic texture png\n\n      const geometry = new THREE.BoxBufferGeometry(BOX_SIZE, BOX_SIZE, BOX_SIZE * 0.25);\n      const material = new THREE.MeshBasicMaterial({\n        map: texture\n      });\n      let box = new THREE.Mesh(geometry, material);\n      this.boxes.push(box);\n    }\n\n    this.setBoxesPosition();\n  }\n\n  addToScene() {\n    for (let i = 0; i < 9; ++i) {\n      scene.add(this.boxes[i]);\n    }\n  }\n\n  setBoxesPosition() {\n    const POSITION = 0.08;\n    this.boxes[0].position.set(POSITION, POSITION, -0.5);\n    this.boxes[1].position.set(0, POSITION, -0.5);\n    this.boxes[2].position.set(-POSITION, POSITION, -0.5);\n    this.boxes[3].position.set(POSITION, 0, -0.5);\n    this.boxes[4].position.set(0, 0, -0.5);\n    this.boxes[5].position.set(-POSITION, 0, -0.5);\n    this.boxes[6].position.set(POSITION, -POSITION, -0.5);\n    this.boxes[7].position.set(0, -POSITION, -0.5);\n    this.boxes[8].position.set(-POSITION, -POSITION, -0.5);\n  }\n\n}\n\nfunction createMaterial(texture) {\n  return [new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('../games/textures/white.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('../games/textures/white.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('../games/textures/white.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('../games/textures/white.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('../games/textures/' + texture + '.png')\n  }), new THREE.MeshBasicMaterial({\n    map: new THREE.TextureLoader().load('../games/textures/' + texture + '.png')\n  })];\n}\n\nfunction updateTextureX(boxNumber) {\n  board.boxes[boxNumber].material = createMaterial('x');\n}\n\nfunction updateTextureXWin(boxNumber) {\n  board.boxes[boxNumber].material = createMaterial('xWin');\n}\n\nfunction updateTextureO(boxNumber) {\n  board.boxes[boxNumber].material = createMaterial('o');\n}\n\nfunction updateTextureOWin(boxNumber) {\n  board.boxes[boxNumber].material = createMaterial('oWin');\n}\n\nfunction init() {\n  container = document.createElement('div');\n  document.body.appendChild(container);\n  scene = new THREE.Scene();\n  camera = new THREE.PerspectiveCamera(100, window.innerWidth / window.innerHeight, 0.01, 20);\n  raycaster = new THREE.Raycaster();\n  renderer = new THREE.WebGLRenderer({\n    antialias: true,\n    alpha: true\n  });\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.outputEncoding = THREE.sRGBEncoding;\n  renderer.shadowMap.enabled = true;\n  renderer.xr.enabled = true;\n  container.appendChild(renderer.domElement);\n  document.body.appendChild(ARButton.createButton(renderer, {}));\n  const light = new THREE.HemisphereLight(0xffffff, 0xbbbbff, 1);\n  light.position.set(0.5, 1, 0.25);\n  scene.add(light);\n  controller = renderer.xr.getController(0);\n  controller.addEventListener('select', onSelect);\n  scene.add(controller);\n  board = new ticTacToeBoard();\n  board.addToScene();\n  const geometry = new THREE.BufferGeometry().setFromPoints([new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 0, -1)]);\n  const line = new THREE.Line(geometry);\n  line.name = 'line';\n  line.scale.z = 5;\n  controller.add(line.clone());\n  window.addEventListener('resize', () => {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n  });\n}\n\nfunction onSelect() {\n  tempMatrix.identity().extractRotation(controller.matrixWorld);\n  raycaster.ray.origin.setFromMatrixPosition(controller.matrixWorld);\n  raycaster.ray.direction.set(0, 0, -1).applyMatrix4(tempMatrix);\n  const intersections = raycaster.intersectObjects(scene.children);\n\n  for (let i = 0; i < board.boxes.length; i++) {\n    if (intersections.length > 0 && intersections[0].object === board.boxes[i]) {\n      playerTurn(i);\n      playAudio(\"../audio/click.wav\");\n    }\n  }\n}\n\nfunction animate() {\n  renderer.setAnimationLoop(render);\n}\n\nfunction render() {\n  renderer.render(scene, camera);\n}\n\nfunction start() {\n  init();\n  animate();\n} // start();\n\n\nexport { updateTextureX, updateTextureXWin, updateTextureO, updateTextureOWin, start };","map":{"version":3,"sources":["C:/Users/dell/Desktop/projektlogin/vue-3-authentication-jwt/src/games/ticTacToe/drawTicTacToe.js"],"names":["ARButton","playerTurn","playAudio","THREE","tempMatrix","Matrix4","camera","scene","renderer","board","controller","raycaster","container","ticTacToeBoard","constructor","BOX_SIZE","i","loader","TextureLoader","load","texture","material","MeshBasicMaterial","map","undefined","err","console","error","geometry","BoxBufferGeometry","box","Mesh","boxes","push","setBoxesPosition","addToScene","add","POSITION","position","set","createMaterial","updateTextureX","boxNumber","updateTextureXWin","updateTextureO","updateTextureOWin","init","document","createElement","body","appendChild","Scene","PerspectiveCamera","window","innerWidth","innerHeight","Raycaster","WebGLRenderer","antialias","alpha","setPixelRatio","devicePixelRatio","setSize","outputEncoding","sRGBEncoding","shadowMap","enabled","xr","domElement","createButton","light","HemisphereLight","getController","addEventListener","onSelect","BufferGeometry","setFromPoints","Vector3","line","Line","name","scale","z","clone","aspect","updateProjectionMatrix","identity","extractRotation","matrixWorld","ray","origin","setFromMatrixPosition","direction","applyMatrix4","intersections","intersectObjects","children","length","object","animate","setAnimationLoop","render","start"],"mappings":"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","sourcesContent":["import {ARButton} from '../three/examples/jsm/webxr/ARButton.js';\r\nimport {playerTurn} from './ticTacToe.js'\r\nimport {playAudio} from '../audio/sound.js'\r\n// import * as THREE from \"../three/build/three.js\";\r\nimport * as THREE from 'three';\r\n// const THREE = require('../three/build/three.js')\r\n\r\nconst tempMatrix = new THREE.Matrix4();\r\n\r\nlet camera;\r\nlet scene;\r\nlet renderer;\r\nlet board;\r\nlet controller;\r\nlet raycaster;\r\nlet container;\r\n\r\nclass ticTacToeBoard {\r\n    boxes = [];\r\n\r\n    constructor() {\r\n        const BOX_SIZE = 0.05;\r\n\r\n        for(let i = 0 ; i < 9 ; ++i){\r\n            // instantiate a loader\r\n            const loader = new THREE.TextureLoader();\r\n\r\n// load a resource\r\n            loader.load(\r\n                // resource URL\r\n                './textures/white.png',\r\n\r\n                // onLoad callback\r\n                function ( texture ) {\r\n                    // in this example we create the material when the texture is loaded\r\n                    const material = new THREE.MeshBasicMaterial( {\r\n                        map: texture\r\n                    } );\r\n                },\r\n\r\n                // onProgress callback currently not supported\r\n                undefined,\r\n\r\n                // onError callback\r\n                function ( err ) {\r\n                    console.error( 'An error happened.' );\r\n                }\r\n            );\r\n            const texture = new THREE.TextureLoader().load('./textures/white.png' ); // Loading a basic texture png\r\n            const geometry = new THREE.BoxBufferGeometry(BOX_SIZE, BOX_SIZE, BOX_SIZE * 0.25);\r\n            const material = new THREE.MeshBasicMaterial({\r\n                map: texture\r\n            });\r\n            let box = new THREE.Mesh(geometry, material);\r\n            this.boxes.push(box);\r\n        }\r\n        this.setBoxesPosition();\r\n    }\r\n\r\n    addToScene() {\r\n        for(let i = 0 ; i < 9 ; ++i){\r\n            scene.add(this.boxes[i]);\r\n        }\r\n    }\r\n\r\n    setBoxesPosition() {\r\n        const POSITION = 0.08;\r\n        this.boxes[0].position.set(POSITION, POSITION, -0.5);\r\n        this.boxes[1].position.set(0, POSITION, -0.5);\r\n        this.boxes[2].position.set(-POSITION, POSITION, -0.5);\r\n        this.boxes[3].position.set(POSITION, 0, -0.5);\r\n        this.boxes[4].position.set(0, 0, -0.5);\r\n        this.boxes[5].position.set(-POSITION, 0, -0.5);\r\n        this.boxes[6].position.set(POSITION, -POSITION, -0.5);\r\n        this.boxes[7].position.set(0, -POSITION, -0.5);\r\n        this.boxes[8].position.set(-POSITION, -POSITION, -0.5);\r\n    }\r\n}\r\n\r\nfunction createMaterial(texture) {\r\n    return [\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('../games/textures/white.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('../games/textures/white.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('../games/textures/white.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('../games/textures/white.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('../games/textures/' + texture + '.png')}),\r\n        new THREE.MeshBasicMaterial({map: new THREE.TextureLoader().load('../games/textures/' + texture + '.png')})\r\n    ];\r\n}\r\n\r\nfunction updateTextureX(boxNumber){\r\n    board.boxes[boxNumber].material = createMaterial('x');\r\n}\r\n\r\nfunction updateTextureXWin(boxNumber){\r\n    board.boxes[boxNumber].material = createMaterial('xWin');\r\n}\r\n\r\nfunction updateTextureO(boxNumber){\r\n    board.boxes[boxNumber].material = createMaterial('o');\r\n}\r\n\r\nfunction updateTextureOWin(boxNumber){\r\n    board.boxes[boxNumber].material = createMaterial('oWin');\r\n}\r\n\r\nfunction init() {\r\n    container = document.createElement('div');\r\n    document.body.appendChild(container);\r\n    scene = new THREE.Scene();\r\n    camera = new THREE.PerspectiveCamera(100, window.innerWidth / window.innerHeight, 0.01, 20);\r\n\r\n    raycaster = new THREE.Raycaster();\r\n\r\n    renderer = new THREE.WebGLRenderer({antialias: true, alpha: true});\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.outputEncoding = THREE.sRGBEncoding;\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.xr.enabled = true;\r\n\r\n    container.appendChild(renderer.domElement);\r\n    document.body.appendChild(ARButton.createButton(renderer, {}));\r\n\r\n    const light = new THREE.HemisphereLight(0xffffff, 0xbbbbff, 1);\r\n    light.position.set(0.5, 1, 0.25);\r\n    scene.add(light);\r\n\r\n    controller = renderer.xr.getController(0);\r\n    controller.addEventListener('select', onSelect);\r\n    scene.add(controller);\r\n\r\n    board = new ticTacToeBoard();\r\n    board.addToScene();\r\n\r\n    const geometry = new THREE.BufferGeometry().setFromPoints(\r\n        [new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 0, -1)]);\r\n\r\n    const line = new THREE.Line(geometry);\r\n    line.name = 'line';\r\n    line.scale.z = 5;\r\n\r\n    controller.add(line.clone());\r\n\r\n    window.addEventListener('resize', ()=> {\r\n        camera.aspect = window.innerWidth / window.innerHeight;\r\n        camera.updateProjectionMatrix();\r\n        renderer.setSize(window.innerWidth, window.innerHeight);\r\n    });\r\n}\r\n\r\nfunction onSelect() {\r\n    tempMatrix.identity().extractRotation(controller.matrixWorld);\r\n    raycaster.ray.origin.setFromMatrixPosition(controller.matrixWorld);\r\n    raycaster.ray.direction.set(0, 0, -1).applyMatrix4(tempMatrix);\r\n\r\n    const intersections = raycaster.intersectObjects(scene.children);\r\n\r\n    for(let i = 0; i < board.boxes.length; i++) {\r\n        if (intersections.length > 0 && intersections[0].object === board.boxes[i]) {\r\n            playerTurn(i);\r\n            playAudio(\"../audio/click.wav\");\r\n        }\r\n    }\r\n}\r\n\r\nfunction animate() {\r\n    renderer.setAnimationLoop(render);\r\n}\r\n\r\nfunction render() {\r\n    renderer.render(scene, camera);\r\n}\r\n\r\nfunction start() {\r\n    init();\r\n    animate();\r\n}\r\n\r\n// start();\r\n\r\nexport {\r\n    updateTextureX,\r\n    updateTextureXWin,\r\n    updateTextureO,\r\n    updateTextureOWin,\r\n    start\r\n};"]},"metadata":{},"sourceType":"module"}