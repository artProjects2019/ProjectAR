{"ast":null,"code":"function WebGLObjects(gl, geometries, attributes, info) {\n  let updateMap = new WeakMap();\n\n  function update(object) {\n    const frame = info.render.frame;\n    const geometry = object.geometry;\n    const buffergeometry = geometries.get(object, geometry); // Update once per frame\n\n    if (updateMap.get(buffergeometry) !== frame) {\n      geometries.update(buffergeometry);\n      updateMap.set(buffergeometry, frame);\n    }\n\n    if (object.isInstancedMesh) {\n      if (object.hasEventListener('dispose', onInstancedMeshDispose) === false) {\n        object.addEventListener('dispose', onInstancedMeshDispose);\n      }\n\n      attributes.update(object.instanceMatrix, gl.ARRAY_BUFFER);\n\n      if (object.instanceColor !== null) {\n        attributes.update(object.instanceColor, gl.ARRAY_BUFFER);\n      }\n    }\n\n    return buffergeometry;\n  }\n\n  function dispose() {\n    updateMap = new WeakMap();\n  }\n\n  function onInstancedMeshDispose(event) {\n    const instancedMesh = event.target;\n    instancedMesh.removeEventListener('dispose', onInstancedMeshDispose);\n    attributes.remove(instancedMesh.instanceMatrix);\n    if (instancedMesh.instanceColor !== null) attributes.remove(instancedMesh.instanceColor);\n  }\n\n  return {\n    update: update,\n    dispose: dispose\n  };\n}\n\nexport { WebGLObjects };","map":{"version":3,"sources":["C:/Users/dell/Desktop/projektlogin/vue-3-authentication-jwt/src/games/three/src/renderers/webgl/WebGLObjects.js"],"names":["WebGLObjects","gl","geometries","attributes","info","updateMap","WeakMap","update","object","frame","render","geometry","buffergeometry","get","set","isInstancedMesh","hasEventListener","onInstancedMeshDispose","addEventListener","instanceMatrix","ARRAY_BUFFER","instanceColor","dispose","event","instancedMesh","target","removeEventListener","remove"],"mappings":"AAAA,SAASA,YAAT,CAAuBC,EAAvB,EAA2BC,UAA3B,EAAuCC,UAAvC,EAAmDC,IAAnD,EAA0D;AAEzD,MAAIC,SAAS,GAAG,IAAIC,OAAJ,EAAhB;;AAEA,WAASC,MAAT,CAAiBC,MAAjB,EAA0B;AAEzB,UAAMC,KAAK,GAAGL,IAAI,CAACM,MAAL,CAAYD,KAA1B;AAEA,UAAME,QAAQ,GAAGH,MAAM,CAACG,QAAxB;AACA,UAAMC,cAAc,GAAGV,UAAU,CAACW,GAAX,CAAgBL,MAAhB,EAAwBG,QAAxB,CAAvB,CALyB,CAOzB;;AAEA,QAAKN,SAAS,CAACQ,GAAV,CAAeD,cAAf,MAAoCH,KAAzC,EAAiD;AAEhDP,MAAAA,UAAU,CAACK,MAAX,CAAmBK,cAAnB;AAEAP,MAAAA,SAAS,CAACS,GAAV,CAAeF,cAAf,EAA+BH,KAA/B;AAEA;;AAED,QAAKD,MAAM,CAACO,eAAZ,EAA8B;AAE7B,UAAKP,MAAM,CAACQ,gBAAP,CAAyB,SAAzB,EAAoCC,sBAApC,MAAiE,KAAtE,EAA8E;AAE7ET,QAAAA,MAAM,CAACU,gBAAP,CAAyB,SAAzB,EAAoCD,sBAApC;AAEA;;AAEDd,MAAAA,UAAU,CAACI,MAAX,CAAmBC,MAAM,CAACW,cAA1B,EAA0ClB,EAAE,CAACmB,YAA7C;;AAEA,UAAKZ,MAAM,CAACa,aAAP,KAAyB,IAA9B,EAAqC;AAEpClB,QAAAA,UAAU,CAACI,MAAX,CAAmBC,MAAM,CAACa,aAA1B,EAAyCpB,EAAE,CAACmB,YAA5C;AAEA;AAED;;AAED,WAAOR,cAAP;AAEA;;AAED,WAASU,OAAT,GAAmB;AAElBjB,IAAAA,SAAS,GAAG,IAAIC,OAAJ,EAAZ;AAEA;;AAED,WAASW,sBAAT,CAAiCM,KAAjC,EAAyC;AAExC,UAAMC,aAAa,GAAGD,KAAK,CAACE,MAA5B;AAEAD,IAAAA,aAAa,CAACE,mBAAd,CAAmC,SAAnC,EAA8CT,sBAA9C;AAEAd,IAAAA,UAAU,CAACwB,MAAX,CAAmBH,aAAa,CAACL,cAAjC;AAEA,QAAKK,aAAa,CAACH,aAAd,KAAgC,IAArC,EAA4ClB,UAAU,CAACwB,MAAX,CAAmBH,aAAa,CAACH,aAAjC;AAE5C;;AAED,SAAO;AAENd,IAAAA,MAAM,EAAEA,MAFF;AAGNe,IAAAA,OAAO,EAAEA;AAHH,GAAP;AAOA;;AAGD,SAAStB,YAAT","sourcesContent":["function WebGLObjects( gl, geometries, attributes, info ) {\r\n\r\n\tlet updateMap = new WeakMap();\r\n\r\n\tfunction update( object ) {\r\n\r\n\t\tconst frame = info.render.frame;\r\n\r\n\t\tconst geometry = object.geometry;\r\n\t\tconst buffergeometry = geometries.get( object, geometry );\r\n\r\n\t\t// Update once per frame\r\n\r\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\r\n\r\n\t\t\tgeometries.update( buffergeometry );\r\n\r\n\t\t\tupdateMap.set( buffergeometry, frame );\r\n\r\n\t\t}\r\n\r\n\t\tif ( object.isInstancedMesh ) {\r\n\r\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\r\n\r\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tattributes.update( object.instanceMatrix, gl.ARRAY_BUFFER );\r\n\r\n\t\t\tif ( object.instanceColor !== null ) {\r\n\r\n\t\t\t\tattributes.update( object.instanceColor, gl.ARRAY_BUFFER );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn buffergeometry;\r\n\r\n\t}\r\n\r\n\tfunction dispose() {\r\n\r\n\t\tupdateMap = new WeakMap();\r\n\r\n\t}\r\n\r\n\tfunction onInstancedMeshDispose( event ) {\r\n\r\n\t\tconst instancedMesh = event.target;\r\n\r\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\r\n\r\n\t\tattributes.remove( instancedMesh.instanceMatrix );\r\n\r\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\r\n\r\n\t}\r\n\r\n\treturn {\r\n\r\n\t\tupdate: update,\r\n\t\tdispose: dispose\r\n\r\n\t};\r\n\r\n}\r\n\r\n\r\nexport { WebGLObjects };\r\n"]},"metadata":{},"sourceType":"module"}