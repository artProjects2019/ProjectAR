{"ast":null,"code":"import { Earcut } from './Earcut.js';\n\nclass ShapeUtils {\n  // calculate area of the contour polygon\n  static area(contour) {\n    const n = contour.length;\n    let a = 0.0;\n\n    for (let p = n - 1, q = 0; q < n; p = q++) {\n      a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n    }\n\n    return a * 0.5;\n  }\n\n  static isClockWise(pts) {\n    return ShapeUtils.area(pts) < 0;\n  }\n\n  static triangulateShape(contour, holes) {\n    const vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\n    const holeIndices = []; // array of hole indices\n\n    const faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n    removeDupEndPts(contour);\n    addContour(vertices, contour); //\n\n    let holeIndex = contour.length;\n    holes.forEach(removeDupEndPts);\n\n    for (let i = 0; i < holes.length; i++) {\n      holeIndices.push(holeIndex);\n      holeIndex += holes[i].length;\n      addContour(vertices, holes[i]);\n    } //\n\n\n    const triangles = Earcut.triangulate(vertices, holeIndices); //\n\n    for (let i = 0; i < triangles.length; i += 3) {\n      faces.push(triangles.slice(i, i + 3));\n    }\n\n    return faces;\n  }\n\n}\n\nfunction removeDupEndPts(points) {\n  const l = points.length;\n\n  if (l > 2 && points[l - 1].equals(points[0])) {\n    points.pop();\n  }\n}\n\nfunction addContour(vertices, contour) {\n  for (let i = 0; i < contour.length; i++) {\n    vertices.push(contour[i].x);\n    vertices.push(contour[i].y);\n  }\n}\n\nexport { ShapeUtils };","map":{"version":3,"sources":["C:/Users/dell/Desktop/projektlogin/vue-3-authentication-jwt/src/games/three/src/extras/ShapeUtils.js"],"names":["Earcut","ShapeUtils","area","contour","n","length","a","p","q","x","y","isClockWise","pts","triangulateShape","holes","vertices","holeIndices","faces","removeDupEndPts","addContour","holeIndex","forEach","i","push","triangles","triangulate","slice","points","l","equals","pop"],"mappings":"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","sourcesContent":["import { Earcut } from './Earcut.js';\r\n\r\nclass ShapeUtils {\r\n\r\n\t// calculate area of the contour polygon\r\n\r\n\tstatic area( contour ) {\r\n\r\n\t\tconst n = contour.length;\r\n\t\tlet a = 0.0;\r\n\r\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\r\n\r\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\r\n\r\n\t\t}\r\n\r\n\t\treturn a * 0.5;\r\n\r\n\t}\r\n\r\n\tstatic isClockWise( pts ) {\r\n\r\n\t\treturn ShapeUtils.area( pts ) < 0;\r\n\r\n\t}\r\n\r\n\tstatic triangulateShape( contour, holes ) {\r\n\r\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\r\n\t\tconst holeIndices = []; // array of hole indices\r\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\r\n\r\n\t\tremoveDupEndPts( contour );\r\n\t\taddContour( vertices, contour );\r\n\r\n\t\t//\r\n\r\n\t\tlet holeIndex = contour.length;\r\n\r\n\t\tholes.forEach( removeDupEndPts );\r\n\r\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\r\n\r\n\t\t\tholeIndices.push( holeIndex );\r\n\t\t\tholeIndex += holes[ i ].length;\r\n\t\t\taddContour( vertices, holes[ i ] );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\r\n\r\n\t\t//\r\n\r\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\r\n\r\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn faces;\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction removeDupEndPts( points ) {\r\n\r\n\tconst l = points.length;\r\n\r\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\r\n\r\n\t\tpoints.pop();\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction addContour( vertices, contour ) {\r\n\r\n\tfor ( let i = 0; i < contour.length; i ++ ) {\r\n\r\n\t\tvertices.push( contour[ i ].x );\r\n\t\tvertices.push( contour[ i ].y );\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport { ShapeUtils };\r\n"]},"metadata":{},"sourceType":"module"}